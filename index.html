<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>School Factory</title>
  <style>
    /* Reset and Box-Sizing */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      height: 100vh;
      background: linear-gradient(135deg, #ffafbd, #ffc3a0);
      overflow: hidden;
    }

    #game-container {
      padding: 20px;
      background-color: #ffffff;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      width: 95%;
      max-width: 1200px;
      box-sizing: border-box;
      display: flex;
      justify-content: space-between;
      gap: 20px;
      height: 100%;
      overflow-y: auto;
    }

    h1 {
      color: #4CAF50;
      font-size: 32px;
      margin-bottom: 10px;
    }

    .column {
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .upgrades-column {
      background: linear-gradient(135deg, #ff9a9e, #fad0c4);
    }

    .tasks-column {
      background: linear-gradient(135deg, #a1c4fd, #c2e9fb);
      flex: 2; /* Twice as wide as the upgrades column */
    }

    .button-container {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
      width: 100%;
    }

    .upgrade-button, .task-button {
      color: white;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      font-size: 16px;
      border-radius: 5px;
      transition: background-color 0.3s, transform 0.1s;
      width: 180px;
      margin: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
    }

    .upgrade-button {
      background-color: #4CAF50;
    }

    .task-button {
      background-color: #f39c12;
    }

    .task-button:disabled, .upgrade-button:disabled {
      background-color: #ddd;
      cursor: not-allowed;
    }

    .task-button.pending {
      background-color: #f39c12;
    }

    .task-button.completed {
      background-color: #2ecc71;
      animation: completeAnimation 1s ease-in-out forwards;
    }

    @keyframes completeAnimation {
      0% {
        background-color: #f39c12;
      }
      50% {
        background-color: #2ecc71;
      }
      100% {
        background-color: #2ecc71;
      }
    }

    .tooltip {
      position: relative;
      display: inline-block;
      cursor: pointer;
    }

    .tooltip .tooltiptext {
      visibility: hidden;
      width: 220px;
      background-color: #6c757d;
      color: #fff;
      text-align: center;
      border-radius: 5px;
      padding: 5px 0;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -110px;
      opacity: 0;
      transition: opacity 0.3s;
    }

    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }

    #help-modal {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }

    .help-button {
      position: absolute;
      top: 20px;
      right: 20px;
      background-color: #007bff;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
  </style>
</head>
<body>

  <div id="game-container">
    <!-- Upgrades Section -->
    <div class="column upgrades-column">
      <h2>Upgrades</h2>
      <div class="button-container">
        <button id="upgrade-classroom" class="upgrade-button" disabled>Upgrade Classroom: 10 KP</button>
        <button id="upgrade-library" class="upgrade-button" disabled>Upgrade Library: 50 KP</button>
        <button id="upgrade-computer" class="upgrade-button" disabled>Upgrade Computer Lab: 100 KP</button>
      </div>
    </div>

    <!-- Tasks Section (Expanded width) -->
    <div class="column tasks-column">
      <h2>Tasks</h2>
      <div class="button-container">
        <button id="task-study-Requirement-0-KP" class="task-button" disabled>Study - CD: 0s</button>
        <button id="task-research-Requirement-100-KP" class="task-button" disabled>Research - CD: 0s</button>
        <button id="task-laboratory-Requirement-250-KP" class="task-button" disabled>Lab Work - CD: 0s</button>
        <button id="task-programming-Requirement-500-KP" class="task-button" disabled>Programming - CD: 0s</button>
        <button id="task-mentoring-Requirement-1000-KP" class="task-button" disabled>Mentoring - CD: 0s</button>
        <button id="task-teaching-Requirement-2000-KP" class="task-button" disabled>Teaching - CD: 0s</button>
        <button id="task-workshop-Requirement-3000-KP" class="task-button" disabled>Workshop - CD: 0s</button>
        <button id="task-conference-Requirement-4000-KP" class="task-button" disabled>Conference - CD: 0s</button>
        <button id="task-coding-Requirement-5000-KP" class="task-button" disabled>Coding Challenge - CD: 0s</button>
        <button id="task-bookwriting-Requirement-6000-KP" class="task-button" disabled>Book Writing - CD: 0s</button>
      </div>
    </div>

    <!-- Settings Section (Game Stats) -->
    <div class="column">
      <h2>Settings / Stats</h2>
      <div class="stats">
        <p>KP: <span id="kp">0</span></p>
        <p>Classroom Level: <span id="classroom-level">0</span></p>
      </div>
    </div>
  </div>

  <!-- Help/Settings Button -->
  <button class="help-button" onclick="showHelp()">Help/Settings</button>

  <!-- Help Modal -->
  <div id="help-modal">
    <h2>Help & Information</h2>
    <p>Welcome to School Factory! In this game, you generate Knowledge Points (KP) and use them to upgrade your school.</p>
    <ul>
      <li><strong>Upgrade Classroom</strong>: Cost: 10 KP, increases classroom level.</li>
      <li><strong>Tasks</strong>: Complete tasks to earn KP over time. Requirements vary for each task.</li>
    </ul>
    <button onclick="closeHelp()">Close</button>
  </div>

  <script>
    let knowledgePoints = 0;
    let classroomLevel = 0;
    let taskCooldowns = {
      study: 0,
      research: 0,
      laboratory: 0,
      programming: 0,
      mentoring: 0,
      teaching: 0,
      workshop: 0,
      conference: 0,
      coding: 0,
      bookwriting: 0
    };

    const kpElement = document.getElementById("kp");
    const classroomLevelElement = document.getElementById("classroom-level");

    // Task buttons
    const taskButtons = {
      study: document.getElementById("task-study-Requirement-0-KP"),
      research: document.getElementById("task-research-Requirement-100-KP"),
      laboratory: document.getElementById("task-laboratory-Requirement-250-KP"),
      programming: document.getElementById("task-programming-Requirement-500-KP"),
      mentoring: document.getElementById("task-mentoring-Requirement-1000-KP"),
      teaching: document.getElementById("task-teaching-Requirement-2000-KP"),
      workshop: document.getElementById("task-workshop-Requirement-3000-KP"),
      conference: document.getElementById("task-conference-Requirement-4000-KP"),
      coding: document.getElementById("task-coding-Requirement-5000-KP"),
      bookwriting: document.getElementById("task-bookwriting-Requirement-6000-KP")
    };

    function updateGame() {
      kpElement.textContent = knowledgePoints;
      classroomLevelElement.textContent = classroomLevel;
      updateButtons();
    }

    function updateButtons() {
      // Upgrades
      document.getElementById("upgrade-classroom").disabled = knowledgePoints < 10;
      document.getElementById("upgrade-library").disabled = knowledgePoints < 50;
      document.getElementById("upgrade-computer").disabled = knowledgePoints < 100;

      // Tasks
      for (const task in taskButtons) {
        const button = taskButtons[task];
        const taskRequirement = parseInt(button.id.split('-')[2]);
        const cooldown = taskCooldowns[task];
        button.disabled = knowledgePoints < taskRequirement || cooldown > 0;
        button.textContent = `${button.textContent.split(' - ')[0]} - CD: ${cooldown}s`;
      }
    }

    function upgradeClassroom() {
      if (knowledgePoints >= 10) {
        knowledgePoints -= 10;
        classroomLevel++;
        updateGame();
      }
    }

    function upgradeLibrary() {
      if (knowledgePoints >= 50) {
        knowledgePoints -= 50;
        updateGame();
      }
    }

    function upgradeComputer() {
      if (knowledgePoints >= 100) {
        knowledgePoints -= 100;
        updateGame();
      }
    }

    function startTask(task) {
      if (taskCooldowns[task] === 0) {
        taskCooldowns[task] = 10;  // Set cooldown time to 10 seconds
        taskButtons[task].classList.add("pending");
        
        // Simulate task completion
        const cooldownInterval = setInterval(() => {
          taskCooldowns[task]--;
          if (taskCooldowns[task] === 0) {
            clearInterval(cooldownInterval);
            taskButtons[task].classList.remove("pending");
            taskButtons[task].classList.add("completed");
          }
          updateButtons();
        }, 1000);
      }
    }

    function showHelp() {
      document.getElementById("help-modal").style.display = "block";
    }

    function closeHelp() {
      document.getElementById("help-modal").style.display = "none";
    }

    document.getElementById("upgrade-classroom").onclick = upgradeClassroom;
    document.getElementById("upgrade-library").onclick = upgradeLibrary;
    document.getElementById("upgrade-computer").onclick = upgradeComputer;

    document.getElementById("task-study-Requirement-0-KP").onclick = () => startTask('study');
    document.getElementById("task-research-Requirement-100-KP").onclick = () => startTask('research');
    document.getElementById("task-laboratory-Requirement-250-KP").onclick = () => startTask('laboratory');
    document.getElementById("task-programming-Requirement-500-KP").onclick = () => startTask('programming');
    document.getElementById("task-mentoring-Requirement-1000-KP").onclick = () => startTask('mentoring');
    document.getElementById("task-teaching-Requirement-2000-KP").onclick = () => startTask('teaching');
    document.getElementById("task-workshop-Requirement-3000-KP").onclick = () => startTask('workshop');
    document.getElementById("task-conference-Requirement-4000-KP").onclick = () => startTask('conference');
    document.getElementById("task-coding-Requirement-5000-KP").onclick = () => startTask('coding');
    document.getElementById("task-bookwriting-Requirement-6000-KP").onclick = () => startTask('bookwriting');

    updateGame();
  </script>

</body>
</html>
