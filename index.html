<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>School Factory</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      height: 100vh;
      background: linear-gradient(135deg, #ffafbd, #ffc3a0); /* Soft gradient background */
      overflow: hidden;
    }
    #game-container {
      padding: 20px;
      background-color: #ffffff;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
      width: 95%;
      max-width: 1200px;
      box-sizing: border-box;
      display: flex;
      justify-content: space-between;
      gap: 20px;
      height: 100%;
      overflow-y: auto;
    }
    h1 {
      color: #4CAF50;
      font-size: 32px;
      margin-bottom: 10px;
    }
    .stats {
      margin-top: 20px;
      color: #333;
      font-size: 16px;
    }
    .column {
      flex: 1;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
    .upgrades-column {
      background: linear-gradient(135deg, #ff9a9e, #fad0c4); /* Soft gradient for upgrades */
    }
    .tasks-column {
      background: linear-gradient(135deg, #a1c4fd, #c2e9fb); /* Soft gradient for tasks */
      max-height: calc(100vh - 80px); /* Double the size of the default task column */
      overflow-y: auto; /* Scrollable task column */
    }
    .help-button {
      position: absolute;
      top: 20px;
      right: 20px;
      background-color: #007bff;
      color: white;
      padding: 10px 20px;
      border-radius: 5px;
      cursor: pointer;
    }
    .button-container {
      display: flex;
      flex-wrap: wrap;
      gap: 15px;
      justify-content: center;
      width: 100%;
    }
    .button-container .upgrade-button, 
    .button-container .task-button {
      color: white;
      border: none;
      padding: 10px 20px;
      cursor: pointer;
      font-size: 16px;
      border-radius: 5px;
      transition: background-color 0.3s, transform 0.1s;
      width: 150px;
      margin: 10px;
      display: flex;
      justify-content: center;
      align-items: center;
    }
    .button-container .upgrade-button {
      background-color: #4CAF50; /* Green */
    }
    .button-container .task-button {
      background-color: #f39c12; /* Orange */
    }
    .button-container .upgrade-button:hover, 
    .button-container .task-button:hover {
      background-color: #45a049;
    }
    .task-button:disabled,
    .upgrade-button:disabled {
      background-color: #ddd;
      cursor: not-allowed;
    }
    .task-button.pending {
      background-color: #f39c12;
    }
    .task-button.completed {
      background-color: #2ecc71;
      animation: completeAnimation 1s ease-in-out forwards;
    }
    @keyframes completeAnimation {
      0% {
        background-color: #f39c12;
      }
      50% {
        background-color: #2ecc71;
      }
      100% {
        background-color: #2ecc71;
      }
    }
    .tooltip {
      position: relative;
      display: inline-block;
      cursor: pointer;
    }
    .tooltip .tooltiptext {
      visibility: hidden;
      width: 220px;
      background-color: #6c757d;
      color: #fff;
      text-align: center;
      border-radius: 5px;
      padding: 5px 0;
      position: absolute;
      z-index: 1;
      bottom: 125%;
      left: 50%;
      margin-left: -110px;
      opacity: 0;
      transition: opacity 0.3s;
    }
    .tooltip:hover .tooltiptext {
      visibility: visible;
      opacity: 1;
    }
    #help-modal {
      display: none;
      position: fixed;
      top: 50%;
      left: 50%;
      transform: translate(-50%, -50%);
      padding: 20px;
      background-color: white;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    }
  </style>
</head>
<body>

  <div id="game-container">
    <!-- Upgrades Section -->
    <div class="column upgrades-column">
      <h2>Upgrades</h2>
      <div class="button-container">
        <div class="tooltip">
          <button id="upgrade-classroom" class="upgrade-button" disabled>Upgrade Classroom: 10 KP</button>
          <span class="tooltiptext">Cost: 10 KP</span>
        </div>
        <div class="tooltip">
          <button id="upgrade-library" class="upgrade-button" disabled>Upgrade Library: 50 KP</button>
          <span class="tooltiptext">Cost: 50 KP</span>
        </div>
        <div class="tooltip">
          <button id="upgrade-computer" class="upgrade-button" disabled>Upgrade Computer Lab: 100 KP</button>
          <span class="tooltiptext">Cost: 100 KP</span>
        </div>
      </div>
    </div>

    <!-- Tasks Section -->
    <div class="column tasks-column">
      <h2>Tasks</h2>
      <div class="button-container">
        <div class="tooltip">
          <button id="task-study-Requirement-0-KP" class="task-button" disabled>Study - Requirement: 0 KP</button>
          <span class="tooltiptext">Requirement: None</span>
        </div>
        <div class="tooltip">
          <button id="task-research-Requirement-100-KP" class="task-button" disabled>Research - Requirement: 100 KP</button>
          <span class="tooltiptext">Requirement: 100 KP</span>
        </div>
        <div class="tooltip">
          <button id="task-laboratory-Requirement-250-KP" class="task-button" disabled>Lab Work - Requirement: 250 KP</button>
          <span class="tooltiptext">Requirement: 250 KP</span>
        </div>
        <div class="tooltip">
          <button id="task-programming-Requirement-500-KP" class="task-button" disabled>Programming - Requirement: 500 KP</button>
          <span class="tooltiptext">Requirement: 500 KP</span>
        </div>
        <div class="tooltip">
          <button id="task-mentoring-Requirement-1000-KP" class="task-button" disabled>Mentoring - Requirement: 1000 KP</button>
          <span class="tooltiptext">Requirement: 1000 KP</span>
        </div>
        <div class="tooltip">
          <button id="task-teaching-Requirement-2000-KP" class="task-button" disabled>Teaching - Requirement: 2000 KP</button>
          <span class="tooltiptext">Requirement: 2000 KP</span>
        </div>
        <div class="tooltip">
          <button id="task-workshop-Requirement-3000-KP" class="task-button" disabled>Workshop - Requirement: 3000 KP</button>
          <span class="tooltiptext">Requirement: 3000 KP</span>
        </div>
        <div class="tooltip">
          <button id="task-conference-Requirement-4000-KP" class="task-button" disabled>Conference - Requirement: 4000 KP</button>
          <span class="tooltiptext">Requirement: 4000 KP</span>
        </div>
        <div class="tooltip">
          <button id="task-coding-Requirement-5000-KP" class="task-button" disabled>Coding Challenge - Requirement: 5000 KP</button>
          <span class="tooltiptext">Requirement: 5000 KP</span>
        </div>
        <div class="tooltip">
          <button id="task-bookwriting-Requirement-6000-KP" class="task-button" disabled>Book Writing - Requirement: 6000 KP</button>
          <span class="tooltiptext">Requirement: 6000 KP</span>
        </div>
      </div>
    </div>

    <!-- Settings Section (Game Stats) -->
    <div class="column">
      <h2>Settings / Stats</h2>
      <div class="stats">
        <p>KP: <span id="kp">0</span></p>
        <p>Classroom Level: <span id="classroom-level">0</span></p>
      </div>
    </div>
  </div>

  <!-- Help/Settings Button -->
  <button class="help-button" onclick="showHelp()">Help/Settings</button>

  <!-- Help Modal -->
  <div id="help-modal">
    <h2>Help & Information</h2>
    <p>Welcome to School Factory! In this game, you generate Knowledge Points (KP) and use them to upgrade your school.</p>
    <ul>
      <li><strong>Upgrade Classroom</strong>: Cost: 10 KP, increases classroom level.</li>
      <li><strong>Tasks</strong>: Complete tasks to earn KP over time. Requirements vary for each task.</li>
    </ul>
    <button onclick="closeHelp()">Close</button>
  </div>

  <script>
    let knowledgePoints = 0;
    let classroomLevel = 0;
    let taskCooldowns = {
      study: 0,
      research: 0,
      laboratory: 0,
      programming: 0,
      mentoring: 0,
      teaching: 0,
      workshop: 0,
      conference: 0,
      coding: 0,
      bookwriting: 0
    };

    // Task buttons
    const taskStudyButton = document.getElementById('task-study-Requirement-0-KP');
    const taskResearchButton = document.getElementById('task-research-Requirement-100-KP');
    const taskLaboratoryButton = document.getElementById('task-laboratory-Requirement-250-KP');
    const taskProgrammingButton = document.getElementById('task-programming-Requirement-500-KP');
    const taskMentoringButton = document.getElementById('task-mentoring-Requirement-1000-KP');
    const taskTeachingButton = document.getElementById('task-teaching-Requirement-2000-KP');
    const taskWorkshopButton = document.getElementById('task-workshop-Requirement-3000-KP');
    const taskConferenceButton = document.getElementById('task-conference-Requirement-4000-KP');
    const taskCodingButton = document.getElementById('task-coding-Requirement-5000-KP');
    const taskBookwritingButton = document.getElementById('task-bookwriting-Requirement-6000-KP');

    const upgradeClassroomButton = document.getElementById('upgrade-classroom');
    const upgradeLibraryButton = document.getElementById('upgrade-library');
    const upgradeComputerButton = document.getElementById('upgrade-computer');

    // Update UI function
    function updateUI() {
      document.getElementById('kp').textContent = knowledgePoints;
      document.getElementById('classroom-level').textContent = classroomLevel;

      // Enable buttons based on the requirements
      taskStudyButton.disabled = false;
      taskResearchButton.disabled = knowledgePoints < 100;
      taskLaboratoryButton.disabled = knowledgePoints < 250;
      taskProgrammingButton.disabled = knowledgePoints < 500;
      taskMentoringButton.disabled = knowledgePoints < 1000;
      taskTeachingButton.disabled = knowledgePoints < 2000;
      taskWorkshopButton.disabled = knowledgePoints < 3000;
      taskConferenceButton.disabled = knowledgePoints < 4000;
      taskCodingButton.disabled = knowledgePoints < 5000;
      taskBookwritingButton.disabled = knowledgePoints < 6000;

      // Update button colors based on whether tasks can be started
      taskStudyButton.style.backgroundColor = taskStudyButton.disabled ? '#ddd' : '#f39c12';
      taskResearchButton.style.backgroundColor = taskResearchButton.disabled ? '#ddd' : '#f39c12';
      taskLaboratoryButton.style.backgroundColor = taskLaboratoryButton.disabled ? '#ddd' : '#f39c12';
      taskProgrammingButton.style.backgroundColor = taskProgrammingButton.disabled ? '#ddd' : '#f39c12';
      taskMentoringButton.style.backgroundColor = taskMentoringButton.disabled ? '#ddd' : '#f39c12';
      taskTeachingButton.style.backgroundColor = taskTeachingButton.disabled ? '#ddd' : '#f39c12';
      taskWorkshopButton.style.backgroundColor = taskWorkshopButton.disabled ? '#ddd' : '#f39c12';
      taskConferenceButton.style.backgroundColor = taskConferenceButton.disabled ? '#ddd' : '#f39c12';
      taskCodingButton.style.backgroundColor = taskCodingButton.disabled ? '#ddd' : '#f39c12';
      taskBookwritingButton.style.backgroundColor = taskBookwritingButton.disabled ? '#ddd' : '#f39c12';
    }

    // Start a task
    function startTask(taskName, cooldownTime, reward) {
      if (taskCooldowns[taskName] === 0) {
        taskCooldowns[taskName] = cooldownTime;
        setTimeout(() => {
          knowledgePoints += reward.gainKP;
          taskCooldowns[taskName] = 0;
          updateUI();
        }, cooldownTime * 1000);
      }
    }

    // Event listeners for tasks
    taskStudyButton.addEventListener("click", () => startTask("study", 60, { gainKP: 50 }));
    taskResearchButton.addEventListener("click", () => startTask("research", 120, { gainKP: 100 }));
    taskLaboratoryButton.addEventListener("click", () => startTask("laboratory", 180, { gainKP: 200 }));
    taskProgrammingButton.addEventListener("click", () => startTask("programming", 240, { gainKP: 400 }));
    taskMentoringButton.addEventListener("click", () => startTask("mentoring", 300, { gainKP: 800 }));

    // Upgrade classroom
    upgradeClassroomButton.addEventListener('click', () => {
      if (knowledgePoints >= 10) {
        knowledgePoints -= 10;
        classroomLevel++;
        updateUI();
      }
    });

    // Auto-save every minute
    setInterval(() => saveProgress(), 60000);

    // Save progress function
    function saveProgress() {
      localStorage.setItem("knowledgePoints", knowledgePoints);
      localStorage.setItem("classroomLevel", classroomLevel);
      localStorage.setItem("taskCooldowns", JSON.stringify(taskCooldowns));
    }

    // Load saved progress on page load
    window.onload = () => {
      knowledgePoints = parseInt(localStorage.getItem("knowledgePoints") || "0");
      classroomLevel = parseInt(localStorage.getItem("classroomLevel") || "0");
      taskCooldowns = JSON.parse(localStorage.getItem("taskCooldowns") || "{}");
      updateUI();
    };

    // Show help modal
    function showHelp() {
      document.getElementById('help-modal').style.display = 'block';
    }

    // Close help modal
    function closeHelp() {
      document.getElementById('help-modal').style.display = 'none';
    }

    // Initial UI update
    updateUI();
  </script>
</body>
</html>
